
<div class="container" style="margin-top: 2%;">
    <div>
        <h1 style="margin-bottom: 2%; display: flex; justify-content: center;">Student Payments</h1>
        <div style="display: flex; justify-content: center;">
            <div style="background-color: blueviolet; width: 100%; height: 4px;"></div>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-lg-6">
            <div style="display: flex; justify-content: space-between;"><label for="id">Student Id</label> <p>{{student.id}}</p></div>
            <div style="display: flex; justify-content: space-between;"><label for="id">Student Name</label> <p>{{student.name}}</p></div>
            <div style="display: flex; justify-content: space-between;"><label for="id">Student Group</label> <p>{{ groupNames[student.groupId]}}</p></div>
            <div class="mt-8" style="margin-top: 44%;">
                <div style="display: flex; justify-content: space-between; margin-top: -2%;"><label for="id">Total Amount</label> <p>{{ totalAmount}}</p></div>
                <div style="display: flex; justify-content: space-between; margin-top: -2%"><label for="id">Paid Amount</label> <p>{{ totalAmountPaid}}</p></div>
                <div class="lineamount"></div>
                <div style="display: flex; justify-content: space-between; margin-top: 2%"><label for="id">Balance Amount</label> <p>{{ balanceAmount}}</p></div>
            </div>
            <div>
                <button data-bs-toggle="modal" data-bs-target="#exampleModal" class="btn btn-primary">ReceiveMoney</button>
                <!-- <button *ngIf="anyMoneybtn" data-bs-toggle="modal" data-bs-target="#exampleModal" class="btn btn-primary">ReceiveMoney</button> -->
                <button *ngIf="!anyMoneybtn" disabled class="btn btn-success">Total Money Paid</button>
            </div>
        </div>
        <div class="col-lg-6">
            <div style="display: flex; flex-direction: column; align-items: center;">
                <button class="btn btn-warning" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                    Show Payment History
                  </button>

                  <div *ngIf="notransaction" class="mt-5">
                    <h5>No transactions were found</h5>
                    <button class="btn btn-primary">MakePayment</button>
                  </div>

                  <div *ngIf="!notransaction" class="collapse mt-3" id="collapseExample" style="width: 80%;">
                    <table class="table align-middle">
                        <thead>
                            <tr>
                                <td>Paid Amount</td>
                                <td>ReceivedBy</td>
                                <td>Date</td>
                            </tr>
                        </thead>
                        <tbody class="table-group-divider">
                            <tr *ngFor="let item of transactions">
                                <td>{{item.paidAmount}}</td>
                                <td>{{item.amountReceivedBy}}</td>
                                <td>{{ item.padiDate | date:'yyyy-MM-dd HH:mm:ss' }}</td>
                            </tr>
                        </tbody>
                    </table>
                  </div>
            </div>
        </div>
    </div>
</div>


  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Payment of {{student.name}}</h1>
          <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
        </div>
        <div class="modal-body">
            <div style="display: flex; justify-content: space-between; margin-top: -2%;"><label for="id">Total Amount</label> <p>{{ totalAmount}}</p></div>
                <div style="display: flex; justify-content: space-between; margin-top: -2%"><label for="id">Paid Amount</label> <p>{{ totalAmountPaid}}</p></div>
                <div style="display: flex; justify-content: center;" class="input-group mb-3">
                    <!-- <label for="PaidAmount">Current Payment</label> -->
                    <span class="input-group-text">Current Payment â‚¹</span>
                    <form [formGroup]="myForm">
                        <input class="form-control" type="text" formControlName="paidAmount" (input)="calculateRemainingAmount()" placeholder="Enter the Amount">
                      </form>
                    <span class="input-group-text">.00</span>
                </div>
                <div style="display: flex; justify-content: center;">
                    <p style="color: red;">{{textmsg}}</p>
                </div>
                <div class="font-weight-bold" style="display: flex; justify-content: end; font-size: 24px; color: green;">
                    <label for="">Remaining Amount -: </label>
                    <p class="font-weight-bold">  {{remainingAmt}}</p>
                </div>
        </div>
        <div class="ffoter">
            <label for="">ReceivedBy</label>
            <input class="form-control" type="text" placeholder="Enter" [(ngModel)]="amtRecvBy" >

          <button type="button" (click)="submitPayment()" data-bs-dismiss="modal" class="btn btn-primary">MakePayment</button>
          <button type="button" data-bs-dismiss="modal" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


  <p-toast></p-toast>











